

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/p/layout.xhtml">
	
	<ui:define name="content"> 
	<h:form id="Report_Form" prependId="false" enctype="multipart/form-data">
		<p:growl />
			<div class="row nav_bottom "> 
				<div class="col-lg-12 col-md-12 col-sm-12">
					<div class="box_small">
						<div class="contant_line_box"> 
							<div class="contant_small_text">Reports</div> 
						</div>
						<div class="right-triangle"></div>
						<div class="contant_small_text1">SALES</div>
					</div> 
				</div> 
			</div>
			<p:spacer height="50px;"/>
			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12">
					<div class="col-lg-3 col-md-2 col-sm-2">
						<label  class="col-lg-12">Brand</label>
						<div class="col-lg-12 col-md-12 col-sm-12">
							<h:selectOneMenu styleClass="form-control" id="ChooseBrand" value="#{reportBean.salesReport.merchant}" rendered="#{not empty profileBean.userInfo.merchant}"  converter="gec"> 
								<f:selectItem itemValue="#{null}" itemLabel="-Select-" />
								<f:selectItems var="at" itemLabel="#{at.name}" itemValue="#{at}"  value="#{reportBean.brands}"/>
								<p:ajax update="ChooseBranch" listener="#{reportBean.onChangeBrand}" />
							</h:selectOneMenu>
						</div>
					</div>
					
					<div class="col-lg-3 col-md-2 col-sm-2">
						<label  class="col-lg-12">Outlet</label>
						<div class="col-lg-12 col-md-12 col-sm-12">
							<h:selectOneMenu styleClass="form-control" id="ChooseBranch" value="#{reportBean.salesReport.merchantBranch}" rendered="#{not empty profileBean.userInfo.merchant}"  converter="gec"> 
								<f:selectItem itemValue="#{null}" itemLabel="-Select-" />
								<f:selectItems var="at" itemLabel="#{at.branchName}" itemValue="#{at.id}"  value="#{reportBean.selectedOutlets}"/>
							</h:selectOneMenu>
						</div>
					</div>
					
					<div class="col-lg-3 col-md-2 col-sm-2">
						<label  class="col-lg-12">Start Date</label>
						<div class="col-lg-12 col-md-12 col-sm-12">
							<p:calendar id="startDate" value="#{reportBean.salesReport.startDate}"
									pattern="dd-MM-yyyy HH:mm" showOn="button" required="true" requiredMessage="Please Choose Start Date"
									validatorMessage="Please Choose Start Date" />
						</div>
					</div>
					
					<div class="col-lg-3 col-md-2 col-sm-2">
						<label  class="col-lg-12">End Date</label>
						<div class="col-lg-12 col-md-12 col-sm-12">
							<p:calendar id="endDate" value="#{reportBean.salesReport.endDate}" maxdate="#{reportBean.maxDate}"
									pattern="dd-MM-yyyy HH:mm" showOn="button" required="true" requiredMessage="Please Choose End Date"
									validatorMessage="Please Choose End Date" />
						</div>
					</div>
				</div>
				<div class="col-lg-12 col-md-12 col-sm-12"> 
					<center style="margin-bottom:10px;padding-top:10px; ">
	 					<h:commandButton image="/images/download.png"  value="Download"  id="Download2"  alt="Download Excel" rendered="true">
						   	<p:fileDownload value="#{reportBean.downloadSalesReport}"/>
						</h:commandButton> 
					</center> 
				</div>
			</div>
</h:form>		 
	</ui:define>
</ui:composition>
