<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

    <html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	>
	<h:head>
	
    	<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Merchant-Login</title>
		<link href="#{request.contextPath}/css/font-awesome.css" rel="stylesheet" type="text/css" />
		<link href="#{request.contextPath}/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
		<link href="#{request.contextPath}/css/style.css" rel="stylesheet" />
		<link href="#{request.contextPath}/css/login.css" rel="stylesheet" />  
		<link href="#{request.contextPath}/css/bootstrap.css" rel="stylesheet" /> 
		<link href="#{request.contextPath}/css/bootstrap-theme.css" rel="stylesheet" /> 
		<script  src="#{request.contextPath}/js/bootstrap.js" type="text/javascript"></script> 	
	</h:head>
	<h:body>
	<f:phaseListener type="com.finateltechhbm.servlet.LoginErrorPhaseListener"></f:phaseListener>
	<f:view>
		<div class="header">
			<div class="container">
					<div class="logo"><a href="#"><img src="#{request.contextPath}/images/logo.png" /></a></div>
			</div>
		</div> 
		<div class="container content">		
	    	<div class="row">
	            <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3">
	            <div class="reg-page1">
	            <div class="login_image"><img src="#{request.contextPath}/images/login-admin-icon.png" /></div>
	              <h3>Merchant Login </h3>
	            </div>
	               
	                <form class="reg-page"  name="loginForm"  method="post" action="#{request.contextPath}/j_spring_security_check">
	                  <p:messages styleClass=".ui-global-error-message" id="Loginmessages" globalOnly="true" showDetail="false"/> 
	                    <div class="input-group margin-bottom-20">
	                        <span class="input-group-addon"> <span class="glyphicon glyphicon-user"></span> </span>
	                        <p:inputText styleClass="form-control" autocomplete="off" placeholder="Email Address"  type="email" id="j_username" 
	                        required="true" value="${loginBean.emailid}" 	>
							</p:inputText>
							<p:message for="j_username"/> 
	                        <!-- <input class="form-control"  id="j_username" placeholder="Email ID" type="email" name='j_username' ></input> -->
	                    </div>                    
	                    <div class="input-group margin-bottom-20">
	                        <span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span> </span>
	                        <p:password type="password" styleClass="form-control" id="j_password" placeholder="Password" label="password"
								autocomplete="off" required="true" value="${loginBean.passWord}"/> 
										<p:message for="j_password"/> 
	                       <!--  <input class="form-control"   id="j_password"   placeholder="Password" type="password" name='j_password'></input> -->
	                    </div>
	                    <div class="row">
	                        <!-- <div class="col-md-6">
	                            <label class="checkbox"><input type="checkbox"></input> Stay signed in</label>                        
	                        </div> -->
	                        <div class="col-md-12">
	                        
	                       		 <h:commandButton class="btn btn-danger btn-u pull-right"  name="submit" type="submit" value="Sign In" validateClient="true"/>
	                        </div>
	                    </div>
	                 <h4>Forgot Password ?</h4>
		                <p><p:commandLink oncomplete="PF('DataFetchingConfirm').show()"  immediate="true" update=":DLG"  value="Click here"></p:commandLink> to reset your password.</p>
	             
	                     </form> 
	                      <div class="shadow"><img src="images/shadow.png" width="100%" /></div>   
	             
	        </div>
	    </div>
	    </div>
	    <p:dialog header="Reset Password" draggable="false" modal="true"
			closable="false" width="390" widgetVar="DataFetchingConfirm"
			showEffect="slide" hideEffect="slide" closeOnEscape="true"
			resizable="false" >
			<h:form id="DLG">
				<br />
				<div class="input-group margin-bottom-20">
					<span class="input-group-addon"> <span class="glyphicon glyphicon-user"></span> </span>
	                <p:inputText style="width:300" id="reset_email_id" styleClass="login-formcontrol" maxlength="35" type="email" required="true"
	                requiredMessage="Please enter valid mail ID" validatorMessage="Please enter valid mail ID" value="#{loginBean.emailid}" />  
					<p:watermark for="reset_email_id" value="Please enter valid mail ID" />
	            </div>
	            <p:message for="reset_email_id"/>
				<h:outputText value="Do you want to reset password?"  /> 
				<div style="float:right;">
				<br />
				<p:commandButton ajax="false" style="color:#fff !important;background:#616161 !important;box-shadow:none !important;border: medium none !important; " value="Yes" clientValidate="true" actionListener="#{loginBean.loginPasswordReset}">
					
				</p:commandButton>
				<p:spacer width="5px" />
				<p:commandButton value="No" style="color:#fff !important;background:#616161 !important;box-shadow:none !important;border: medium none !important; "  oncomplete="PF('DataFetchingConfirm').hide()" />
				</div>
			</h:form>
		</p:dialog>
	   
		</f:view>
	</h:body>
</html>